// Auto-generated from category_links_app.html.
// DO NOT EDIT.

library category_links_app_html;

import 'dart:html' as autogenerated;
import 'dart:svg' as autogenerated_svg;
import 'package:web_ui/web_ui.dart' as autogenerated;
import 'dart:html';
import 'dart:json';
import 'package:category_links/category_links.dart';
import 'component/category/category_table.dart';


// Original code


LinksEntries entries;
Categories categories;

load() {
  String json = window.localStorage['category_links_with_dartling'];
  if (json == null) {
    initCategoryLinks(entries);
  } else {
    entries.fromJson(parse(json));
  }
  categories.order();
}

save() {
  window.localStorage['category_links_with_dartling'] =
      stringify(entries.toJson());
}

main() {
  var repo = new CategoryRepo();
  var domainCode = CategoryRepo.categoryDomainCode;
  var modelCode = CategoryRepo.categoryLinksModelCode;
  var models = repo.getDomainModels(domainCode); 
  entries = models.getModelEntries(modelCode); 
  categories = entries.categories;
  load();
}


// Additional generated code
void init_autogenerated() {
  var _root = autogenerated.document.body;
  var __e0, __e1;
  var __t = new autogenerated.Template(_root);
  __e0 = _root.query('#__e-0');
  __t.listen(__e0.onClick, ($event) { save(); });
  __e1 = _root.query('#__e-1');
  __t.oneWayBind(() =>  categories , (e) { __e1.xtag.categories = e; }, false, false);
  new CategoryTable.forElement(__e1);
  __t.component(__e1);
  __t.create();
  __t.insert();
}

//@ sourceMappingURL=category_links_app.dart.map